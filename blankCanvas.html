<!doctype html>

<body>
    <canvas id="gameCanvas" width="600" height="600"></canvas>
    <script>
        var canvas, canvasContext;

        window.onload = function() {
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');

            document.addEventListener('keydown', KeyPressed);
            document.addEventListener('keyup', KeyRealeased);


            setInterval(mainloop, 1000 / 50);
        }
        var playerXpos = 0;
        var playerYpos = 0;
        var playerXspeed = 5;
        var playerYspeed = 5;
        var PLAYER_SIZE = 20;


        var enemyXpos = 0;
        var enemyYpos = 0;
        var enemyXspeed = 3;
        var enemyYspeed = 3;
        var ENEMY_SIZE = 20;

        var bulletXpos = 0;
        var bulletYpos = 0;
        const BULLET_WIDTH = 4;
        const BULLET_HEIGHT = 4;
        var bulletYspeed = 4;
        var bulletXspeed = 4;

        const LEFT_KEY = 37;
        const RIGHT_KEY = 39;
        const UP_KEY = 40;
        const DOWN_KEY = 38;

        const SPACE_KEY = 32;

        var rightKeyPressed = false;
        var leftKeyPressed = false;
        var downKeyPressed = false;
        var upKeyPressed = false;
        
        
        
        var enemies = [];
        
        var starting = true;
        
        
        
        

        function mainloop() {
            colorRect(0, 0, canvas.width, canvas.height, 'black');
            colorRect(playerXpos, playerYpos, PLAYER_SIZE, PLAYER_SIZE, 'blue');
            colorRect(enemyXpos, enemyYpos, ENEMY_SIZE, ENEMY_SIZE, 'red');
            playermove();
            
        }
        
        
        
        if(starting) {
            enemyXpos = canvas.width / 2;
            makeEnemy();
            starting = false;
            
        }
        
        enemymove();
        
        
        function makeEnemy(){
            
        var enemyXpos = Math.floor(Math.random()*(canvas.width - ENEMY_SIZE));
        var enemyYpos = 0;
        var enemyXspeed = 3;
        var enemyYspeed = 3;
        var ENEMY_SIZE = 20;
            
        }
        var enemy = {
            enemyXpos: enemyXpos,
            enemyYpos: enemyYpos,
            ENEMY_SIZE: ENEMY_SIZE,
            enemyXspeed: enemyXspeed,
            enemyYspeed: enemyYspeed,
        }
        
        enemies.push(enemy);
        
        function enemyMove() {
            enemyYpos += enemyYspeed;
            if (enemyYpos > canvas.height) {
                enemyYpos = 0
            }
            
            
        }
        
        

        function playermove() {
            if (rightKeyPressed) {
                playerXpos += playerXspeed;

            }

            if (leftKeyPressed) {
                playerXpos -= playerXspeed;
            }

            if (upKeyPressed) {
                playerYpos += playerYspeed;
            }

            if (downKeyPressed) {
                playerYpos -= playerYspeed;

            }
        }


        function KeyPressed(evt) {
            if (evt.keyCode == RIGHT_KEY) {
                rightKeyPressed = true;

            }
            if (evt.keyCode == LEFT_KEY) {
                leftKeyPressed = true;
            }


            if (evt.keyCode == DOWN_KEY) {
                downKeyPressed = true;
            }

            if (evt.keyCode == UP_KEY) {
                upKeyPressed = true;
            }


            if (evt.keyCode == SPACE_KEY) {
                shooting = true;
            }


        }

        function KeyRealeased(evt) {
            if (evt.keyCode == RIGHT_KEY) {
                rightKeyPressed = false;

            }
            if (evt.keyCode == LEFT_KEY) {
                leftKeyPressed = false;
            }


            if (evt.keyCode == DOWN_KEY) {
                downKeyPressed = false;
            }

            if (evt.keyCode == UP_KEY) {
                upKeyPressed = false;
            }
        }

        var shooting = false;
        var shoot = false;

        function bulletshoot() {
           if(shooting){
              bulletXpos = playerXpos + PLAYER_SIZE / 2 - BULLET_WIDTH / 2
               bulletYpos = playerYpos;
              }
        }

        function setup() {
            playerXpos = canvas.width / 2 - PLAYER_SIZE / 2;
            playerYpos = canvas.width * 0.8;

            enemyXpos = canvas.width / 2 - PLAYER_SIZE / 2;
            enemyYpos = ENEMY_SIZE * 2;



        }






        function colorRect(x, y, w, h, c) {
            canvasContext.fillStyle = c;
            canvasContext.fillRect(x, y, w, h);
        }

    </script>
</body>
